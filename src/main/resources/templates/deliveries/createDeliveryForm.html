<!DOCTYPE HTML>
<html lang="ko" class="h-100" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/config :: config"/>
<body class="d-flex flex-column h-100">
<header th:replace="fragments/loginHeader :: loginHeader(${member.getName()}, ${member.getRole().name()})"></header>
<main class="flex-shrink-0">
    <div class="main-wrap h-100 mt-3">
        <div>
            <div class="row justify-content-end mb-2">
                <div class="col-2 btn-group">
                    <button type="button" class="btn btn-outline-dark" th:onclick="|location.href='@{/}'|">목록으로</button>
                </div>
            </div>
        </div>
        <table class="table text-center">
            <thead>
                <tr>
                    <th>배송일자</th>
                    <th>배송시간</th>
                    <th>주소</th>
                    <th>받는분</th>

                    <th>받는분 전화</th>
                    <th>상품명</th>
                    <th>리본문구</th>
                    <th>발주업체</th>
                    <th>발주업체전화</th>

                    <th>배송업체</th>
                    <th>배송비(원)</th>
                    <th>배차번호</th>
                    <th>처리</th>
                </tr>
            </thead>
            <tbody>
                <tr th:object="${deliveryDto}">
                    <td>
                        <input th:filed="*{date}" type="date" class="form-control">
                    </td>
                    <td>
                        <input type="text" th:filed="*{time}" class="form-control">
                    </td>
                    <td>
                        <input type="text" th:filed="*{address}" class="form-control">
                    </td>
                    <td>
                        <input type="text" th:filed="*{toName}" class="form-control">
                    </td>
                    <td>
                        <input type="text" th:filed="*{toTel}" class="form-control">
                    </td>
                    <td>
                        <input type="text" th:filed="*{itemName}" class="form-control">
                    </td>
                    <td>
                        <input type="text" th:filed="*{memo}" class="form-control">
                    </td>
                    <td>
                        <input type="text" th:filed="*{orderCompanyName}" class="form-control">
                    </td>
                    <td>
                        <input type="text" th:filed="*{orderCompanyTel}" class="form-control">
                    </td>
                    <td>
                        <input type="text" th:filed="*{itemName}" class="form-control">
                    </td>
                    <td>
                        <input type="text" th:filed="*{dispatchNo}" class="form-control">
                    </td>
                    <td>
                        <input type="text" th:filed="*{price}" class="form-control">
                    </td>
                    <td>
                        <input type="button" class="btn btn-success plusDelivery" value="추가" onclick="plusBoard(this)">
                    </td>
                </tr>
            </tbody>
        </table>
        <script th:inline="javascript">
            function plusBoard(obj)  {
                $(obj).parent("td").html("<input type='button' class='btn btn-danger' value='삭제' onclick='deleteBoard(this)'>");
                var html = "<tr th:object='[[${delivery}]]'>";
                html += "<td><input type='date' th:filed='[[*{date}]]' class='form-control'></td>";
                html += "<td><input type='text' th:filed='[[*{time}]]' class='form-control'></td>";
                html += "<td><input type='text' th:filed='[[*{address}]]' class='form-control'></td>";
                html += "<td><input type='text' th:filed='[[*{toName}]]' class='form-control'></td>";
                html += "<td><input type='text' th:filed='[[*{toTel}]]' class='form-control'></td>";
                html += "<td><input type='text' th:filed='[[*{itemName}]]' class='form-control'></td>";
                html += "<td><input type='text' th:filed='[[*{memo}]]' class='form-control'></td>";
                html += "<td><input type='text' th:filed='[[*{orderCompanyName}]]' class='form-control'></td>";
                html += "<td><input type='text' th:filed='[[*{orderCompanyTel}]]' class='form-control'></td>";
                html += "<td><input type='text' th:filed='[[*{itemName}]]' class='form-control'></td>";
                html += "<td><input type='text' th:filed='[[*{dispatchNo}]]' class='form-control'></td>";
                html += "<td><input type='text' th:filed='[[*{price}]]' class='form-control'></td>";
                html += "<td><input type='button' class='btn btn-success plusDelivery' value='추가' onclick='plusBoard(this)'></td>";
                html += "</tr>";
                $('tbody').append(html);
            }
            function deleteBoard(obj) {
                $(obj).parent("td").parent("tr").remove();
            }
        </script>
    </div>
</main>
</body>
</html>